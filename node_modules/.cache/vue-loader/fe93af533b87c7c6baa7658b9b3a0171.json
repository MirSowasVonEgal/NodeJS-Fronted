{"remainingRequest":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\src\\views\\Pages\\Transactions.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\src\\views\\Pages\\Transactions.vue","mtime":1632418271678},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632338999961},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1632338992451},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632338999961},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1632339000311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaW52b2ljZXMgZnJvbSAnLi4vVGFibGVzL2RlZmF1bHQnDQppbXBvcnQgSW52b2ljZVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvSW52b2ljZVNlcnZpY2UnOw0KaW1wb3J0IERhc2hib2FyZFN0YXRzIGZyb20gJy4uL0xheW91dC9EYXNoYm9hcmRTdGF0cy52dWUnOw0KaW1wb3J0IEZpbGVEb3dubG9hZCBmcm9tICdqcy1maWxlLWRvd25sb2FkJzsNCg0KICBpbXBvcnQgeyBUYWJsZSwgVGFibGVDb2x1bW4sIERyb3Bkb3duTWVudSwgRHJvcGRvd25JdGVtLCBEcm9wZG93bn0gZnJvbSAnZWxlbWVudC11aScNCg0KICBleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ2xpZ2h0LXRhYmxlJywNCiAgICBjb21wb25lbnRzOiB7DQogICAgICBbVGFibGUubmFtZV06IFRhYmxlLA0KICAgICAgW1RhYmxlQ29sdW1uLm5hbWVdOiBUYWJsZUNvbHVtbiwNCiAgICAgIFtEcm9wZG93bi5uYW1lXTogRHJvcGRvd24sDQogICAgICBbRHJvcGRvd25JdGVtLm5hbWVdOiBEcm9wZG93bkl0ZW0sDQogICAgICBbRHJvcGRvd25NZW51Lm5hbWVdOiBEcm9wZG93bk1lbnUsDQogICAgICBEYXNoYm9hcmRTdGF0cywNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBpbnZvaWNlcywNCiAgICAgICAgY3VycmVudENvbnRlbnQ6IGludm9pY2VzLA0KICAgICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgICAgcGVycGFnZTogMTAsDQogICAgICAgIHRvdGFsOiBpbnZvaWNlcy5sZW5ndGgsDQogICAgICAgIHNlYXJjaDogJycsDQogICAgICB9Ow0KICAgIH0sDQogICAgY3JlYXRlZDogZnVuY3Rpb24oKSB7DQogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOw0KICAgICAgICB0aGlzLmNoYW5nZVRhYmxlVmlldygxKTsNCiAgICAgICAgSW52b2ljZVNlcnZpY2UuZ2V0SW52b2ljZXMoKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgIHRoaXMuaW52b2ljZXMgPSByZXNwb25zZS5pbnZvaWNlczsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbnRlbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuaW52b2ljZXMpKTsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbnRlbnQgPSB0aGlzLmN1cnJlbnRDb250ZW50LnNsaWNlKDAsIDEwKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgIG1ldGhvZHM6IHsNCiAgICAgICAgY2hhbmdlVGFibGVWaWV3OiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29udGVudCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5pbnZvaWNlcykpOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29udGVudC5zcGxpY2UoMCwgKCh2YWx1ZSAtIDEpICogdGhpcy5wZXJwYWdlKSk7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRDb250ZW50ID0gdGhpcy5jdXJyZW50Q29udGVudC5zbGljZSgwLCAxMCkNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoID0gJycNCiAgICAgICAgfSwNCiAgICAgICAgc2VhcmNoSXRlbTogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRDb250ZW50ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmludm9pY2VzKSk7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRDb250ZW50ID0gdGhpcy5pbnZvaWNlcy5maWx0ZXIoaSA9PiBKU09OLnN0cmluZ2lmeShpKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy5zZWFyY2gudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpKSk7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRDb250ZW50ID0gdGhpcy5jdXJyZW50Q29udGVudC5zbGljZSgwLCAxMCkNCiAgICAgICAgfSwNCiAgICAgICAgZG93bmxvYWRQREY6IGZ1bmN0aW9uKGlkKSB7DQogICAgICAgICAgICAgSW52b2ljZVNlcnZpY2UuZ2V0SW52b2ljZShpZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgRmlsZURvd25sb2FkKHJlc3BvbnNlLCAnU2hhZGVIb3N0LVJlY2hudW5nIC0gJyArIGlkICsgJy5wZGYnKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICB9DQogIH0NCg=="},{"version":3,"sources":["Transactions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Transactions.vue","sourceRoot":"src/views/Pages","sourcesContent":["<template>\r\n    <div>\r\n    <base-header class=\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\">\r\n      <dashboard-stats/>\r\n     </base-header>\r\n\r\n     <b-container fluid class=\"mt--7\">\r\n      <b-row>\r\n        <b-col>\r\n    <b-card no-body>\r\n        <b-card-header class=\"border-0\">\r\n                <!-- Stack the columns on mobile by making one full-width and the other half-width -->\r\n                <b-row>\r\n            <b-col lg=\"8\" >\r\n            <h3 >Transaktionen</h3>\r\n            </b-col>\r\n            <b-col lg=\"4\">\r\n            <base-input\r\n                      type=\"text\"\r\n                      placeholder=\"Suchen\"\r\n                      @keyup=\"searchItem()\"\r\n                      v-model=\"search\"\r\n                    />\r\n            </b-col>\r\n                </b-row>\r\n        </b-card-header>\r\n\r\n        <el-table class=\"table-responsive table\"\r\n                  header-row-class-name=\"thead-light\"\r\n                  :data=\"currentContent\">\r\n            <el-table-column label=\"ID\"\r\n                             min-width=\"300px\"\r\n                             prop=\"name\">\r\n                <template v-slot=\"{row}\">\r\n                        <b-media-body>\r\n                            <span class=\"font-weight-600 name mb-0 text-sm\">{{ row._id }}</span>\r\n                        </b-media-body>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"Status\"\r\n                             min-width=\"120px\"\r\n                             prop=\"status\">\r\n                <template v-slot=\"{row}\">\r\n                    <badge v-if=\"row.status == 'Bezahlt'\" class=\"badge-dot mr-4\" type=\"\">\r\n                        <i :class=\"`bg-success`\"></i>\r\n                        <span class=\"status\" :class=\"`text-success`\">{{row.status}}</span>\r\n                    </badge>\r\n                    <badge v-else class=\"badge-dot mr-4\" type=\"\">\r\n                        <i :class=\"`bg-danger`\"></i>\r\n                        <span class=\"status\" :class=\"`text-danger`\">{{row.status}}</span>\r\n                    </badge>\r\n                </template>\r\n            </el-table-column>\r\n\r\n             <el-table-column label=\"Betrag\" min-width=\"100px\">\r\n                  <template v-slot=\"{row}\">\r\n                    {{ row.amount }}â‚¬\r\n                  </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"Produkt\" min-width=\"130px\">\r\n                <template v-slot=\"{row}\">\r\n                    {{ row.product }}\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"Datum\" min-width=\"150px\">\r\n                <template v-slot=\"{row}\">\r\n                    {{ new Date(Number(row.created)) | moment('DD.MM.YYYY, HH:mm') }}\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"PDF\">\r\n                <template v-slot=\"{row}\">\r\n                <a @click=\"downloadPDF(row._id)\" style=\"cursor: pointer\"><i class=\"fa fa-file-download\"></i></a>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <b-card-footer class=\"py-4 d-flex justify-content-end\">\r\n            <base-pagination @change=\"value => changeTableView(value)\" v-model=\"currentPage\" :per-page=\"perpage\" :total=\"total\"></base-pagination>\r\n        </b-card-footer>\r\n    </b-card>\r\n        </b-col>\r\n      </b-row>\r\n      </b-container>\r\n    </div>\r\n</template>\r\n<script>\r\nimport invoices from '../Tables/default'\r\nimport InvoiceService from '../../services/InvoiceService';\r\nimport DashboardStats from '../Layout/DashboardStats.vue';\r\nimport FileDownload from 'js-file-download';\r\n\r\n  import { Table, TableColumn, DropdownMenu, DropdownItem, Dropdown} from 'element-ui'\r\n\r\n  export default {\r\n    name: 'light-table',\r\n    components: {\r\n      [Table.name]: Table,\r\n      [TableColumn.name]: TableColumn,\r\n      [Dropdown.name]: Dropdown,\r\n      [DropdownItem.name]: DropdownItem,\r\n      [DropdownMenu.name]: DropdownMenu,\r\n      DashboardStats,\r\n    },\r\n    data() {\r\n      return {\r\n        invoices,\r\n        currentContent: invoices,\r\n        currentPage: 1,\r\n        perpage: 10,\r\n        total: invoices.length,\r\n        search: '',\r\n      };\r\n    },\r\n    created: function() {\r\n        this.currentPage = 1;\r\n        this.changeTableView(1);\r\n        InvoiceService.getInvoices().then(response => {\r\n            this.invoices = response.invoices;\r\n            this.currentContent = JSON.parse(JSON.stringify(this.invoices));\r\n            this.currentContent = this.currentContent.slice(0, 10)\r\n        })\r\n    },\r\n     methods: {\r\n        changeTableView: function(value) {\r\n            this.currentContent = JSON.parse(JSON.stringify(this.invoices));\r\n            this.currentContent.splice(0, ((value - 1) * this.perpage));\r\n            this.currentContent = this.currentContent.slice(0, 10)\r\n            this.search = ''\r\n        },\r\n        searchItem: function() {\r\n            this.currentContent = JSON.parse(JSON.stringify(this.invoices));\r\n            this.currentContent = this.invoices.filter(i => JSON.stringify(i).toString().toLowerCase().includes(this.search.toString().toLowerCase()));\r\n            this.currentContent = this.currentContent.slice(0, 10)\r\n        },\r\n        downloadPDF: function(id) {\r\n             InvoiceService.getInvoice(id).then(response => {\r\n                FileDownload(response, 'ShadeHost-Rechnung - ' + id + '.pdf');\r\n            })\r\n        }\r\n    }\r\n  }\r\n</script>"]}]}