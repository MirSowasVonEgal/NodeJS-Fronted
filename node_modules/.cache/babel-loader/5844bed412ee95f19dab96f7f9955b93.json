{"remainingRequest":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\src\\views\\Pages\\Ticket\\ViewTicket.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\src\\views\\Pages\\Ticket\\ViewTicket.vue","mtime":1632505651097},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632338999961},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1632339000298},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1632338992451},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632338999961},{"path":"C:\\Users\\timoo\\Desktop\\ShadeHost\\Entwicklung\\NodeJS-Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1632339000311}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovVXNlcnMvdGltb28vRGVza3RvcC9TaGFkZUhvc3QvRW50d2lja2x1bmcvTm9kZUpTLUZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERhc2hib2FyZFN0YXRzIGZyb20gIi4uLy4uL0xheW91dC9EYXNoYm9hcmRTdGF0cy52dWUiOwppbXBvcnQgVGlja2V0U2VydmljZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9UaWNrZXRTZXJ2aWNlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgRGFzaGJvYXJkU3RhdHM6IERhc2hib2FyZFN0YXRzCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYW5zd2VyOiAnJywKICAgICAgdGlja2V0OiB7fSwKICAgICAgdGltZW91dDogbnVsbCwKICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoewogICAgdXNlcjogImF1dGgvZ2V0VXNlciIKICB9KSksCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICB9KTsKICAgIFRpY2tldFNlcnZpY2UuZ2V0VGlja2V0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMudGlja2V0ID0gcmVzcG9uc2UudGlja2V0OwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3RpY2tldHMiKTsKICAgIH0pOwogICAgdmFyIHZtID0gdGhpczsKCiAgICBmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgICB2bS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgVGlja2V0U2VydmljZS5nZXRUaWNrZXQodm0uJHJvdXRlLnBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZtLnRpY2tldCA9IHJlc3BvbnNlLnRpY2tldDsKICAgICAgICAgIHRpbWVvdXQoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHZtLiRyb3V0ZXIucHVzaCgiL3RpY2tldHMiKTsKICAgICAgICB9KTsKICAgICAgfSwgMjAwMCk7CiAgICB9CgogICAgdGltZW91dCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogIH0sCiAgbWV0aG9kczogewogICAgYW5zd2VyVGlja2V0OiBmdW5jdGlvbiBhbnN3ZXJUaWNrZXQoKSB7CiAgICAgIHZhciBub3RpZmllciA9IHRoaXMuJGF3bjsKICAgICAgdmFyIGFuc3dlcl9jb3B5ID0gdGhpcy5hbnN3ZXI7CiAgICAgIGlmIChhbnN3ZXJfY29weS5yZXBsYWNlKC8gL2csICIiKS5yZXBsYWNlKC9cbi9nLCAiIikgPT0gJycpIHJldHVybjsKICAgICAgdGhpcy50aWNrZXQubWVzc2FnZXMucHVzaCh7CiAgICAgICAgZGF0ZTogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgbWVzc2FnZTogdGhpcy5hbnN3ZXIsCiAgICAgICAgcm9sZTogdGhpcy51c2VyLnJvbGUsCiAgICAgICAgdXNlcmlkOiB0aGlzLnVzZXIuX2lkLAogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXIudXNlcm5hbWUKICAgICAgfSk7CiAgICAgIG5vdGlmaWVyLmFzeW5jKFRpY2tldFNlcnZpY2UudXBkYXRlVGlja2V0KHRoaXMudGlja2V0Ll9pZCwgewogICAgICAgIG1lc3NhZ2U6IHRoaXMuYW5zd2VyCiAgICAgIH0pLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gbm90aWZpZXIuc3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIG5vdGlmaWVyLmFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEucmVzcG9uc2UubWVzc2FnZSk7CiAgICAgIH0sICdCaXR0ZSB3YXJ0ZW4nKTsKICAgICAgdGhpcy5hbnN3ZXIgPSAnJzsKICAgIH0sCiAgICB1cGRhdGVTdGF0dXNUaWNrZXQ6IGZ1bmN0aW9uIHVwZGF0ZVN0YXR1c1RpY2tldChzdGF0dXMpIHsKICAgICAgdmFyIG5vdGlmaWVyID0gdGhpcy4kYXduOwogICAgICB0aGlzLnRpY2tldC5jbG9zZWQgPSBzdGF0dXM7CiAgICAgIG5vdGlmaWVyLmFzeW5jKFRpY2tldFNlcnZpY2UudXBkYXRlVGlja2V0KHRoaXMudGlja2V0Ll9pZCwgewogICAgICAgIGNsb3NlZDogc3RhdHVzCiAgICAgIH0pLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gbm90aWZpZXIuc3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIG5vdGlmaWVyLmFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEucmVzcG9uc2UubWVzc2FnZSk7CiAgICAgIH0sICdCaXR0ZSB3YXJ0ZW4nKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ViewTicket.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n     <base-header class=\"pb-6 pb-8 pt-5 pt-md-8 bg-gradient-success\">\r\n      <dashboard-stats/>\r\n     </base-header>\r\n\r\n    <b-container fluid class=\"mt--6\">\r\n      <b-row>\r\n        <b-col xl=\"12\" class=\"order-xl-1\">\r\n          <card>\r\n          <b-row v-if=\"width > 991\" align-v=\"center\" slot=\"header\" >\r\n            <b-col cols=\"10\">\r\n              <h3 class=\"mb-0\">Ticket: {{ ticket.title }}</h3>\r\n            </b-col>\r\n            <b-col cols=\"2\" class=\"text-right\" v-if=\"!ticket.closed\">\r\n              <a @click=\"updateStatusTicket(true)\" style=\"padding: 11px; width: 200px; margin-left: -200px; height: 100%; color: white; cursor: pointer;\" class=\"btn btn-sm btn-danger\">Ticket schließen</a>\r\n            </b-col>\r\n            <b-col cols=\"2\" class=\"text-right\" v-else>\r\n              <a @click=\"updateStatusTicket(false)\" style=\"padding: 11px; width: 200px; margin-left: -200px; height: 100%; color: white; cursor: pointer;\" class=\"btn btn-sm btn-success\">Ticket öffnen</a>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row v-if=\"width <= 991\" align-v=\"center\" slot=\"header\" >\r\n            <b-row>\r\n            <b-col cols=\"12\">\r\n              <h3 class=\"mb-0\">Ticket ID: <br/> {{ $route.params.id }}</h3>\r\n            </b-col>\r\n            </b-row>\r\n            <b-row>\r\n            <b-col cols=\"12\" class=\"text-right\" v-if=\"!ticket.closed\">\r\n              <a @click=\"updateStatusTicket(true)\" style=\"padding: 11px; width: 265%; height: 100%; color: white; cursor: pointer;\" class=\"btn btn-sm btn-danger\">Ticket schließen</a>\r\n            </b-col>\r\n            <b-col cols=\"12\" class=\"text-right\" v-else>\r\n              <a @click=\"updateStatusTicket(false)\" style=\"padding: 11px; width: 265%; height: 100%; color: white; cursor: pointer;\" class=\"btn btn-sm btn-success\">Ticket öffnen</a>\r\n            </b-col>\r\n            </b-row>\r\n          </b-row>\r\n\r\n          <b-form @submit.prevent=\"answerTicket\" style=\"margin-top: -20px\">\r\n\r\n              <div v-for=\"message in ticket.messages\" :key=\"message.date\">\r\n                <b-row v-if=\"message.userid != user._id\">\r\n                  <b-col lg=\"6\">\r\n                     <b-card style=\"background-color: grey; color: white; margin-top: 15px\">\r\n                       <h3 style=\"margin-top: -15px; margin-bottom: 10px; color: white; margin-left: -16px; text-align: left\">{{ message.username }} <span class=\"badge badge-secondary\" :style=\"'background-color: ' + message.role.color + '; color: white;'\">{{ message.role.fullname }}</span></h3>\r\n                        <b-card-text style=\" white-space: pre-line;\">{{ message.message }}</b-card-text>\r\n                     </b-card></b-col>\r\n                  <b-col lg=\"6\"></b-col>\r\n                </b-row>\r\n                <b-row v-else>\r\n                  <b-col lg=\"6\"></b-col>\r\n                  <b-col lg=\"6\">\r\n                     <b-card style=\"background-color: #32Cd32; color: white; margin-top: 16px\"> \r\n                       <h3 style=\"margin-top: -15px; margin-bottom: 10px; color: white; margin-right: -16px; text-align: right\">{{ message.username }} <span class=\"badge badge-secondary\" :style=\"'background-color: ' + message.role.color + '; color: white;'\">{{ message.role.fullname }}</span></h3>\r\n                        <b-card-text style=\"white-space: pre-line;\">{{ message.message }}</b-card-text>\r\n                     </b-card>\r\n                  </b-col>\r\n                </b-row>\r\n              </div>\r\n              <div v-if=\"!ticket.closed\">\r\n                <b-row style=\"margin-bottom: -40px; margin-top: 40px; margin-right: 1px;\">\r\n                 <b-col cols=\"10\" class=\"text-left\" style=\"margin-bottom: 40px;\">\r\n                     <b-form-group label=\"Antwort\" label-class=\"form-control-label\" class=\"mb-0\" label-for=\"about-form-textaria\"/>\r\n                 </b-col>\r\n                 <b-col cols=\"2\" class=\"text-right\">\r\n                      <span @click=\"answerTicket()\" style=\"margin-top: -30px; cursor: pointer; padding: 15px; width: 200px; margin-right: -14px; margin-left: -163px\" class=\"btn btn-sm btn-primary\">Senden</span>\r\n                 </b-col>\r\n                </b-row>\r\n                <b-row>\r\n                 <b-col lg=\"12\">\r\n                        <b-form-textarea v-model=\"answer\" rows=\"6\" id=\"about-form-textaria\" placeholder=\"Schreibe hier deine Antwort...\"></b-form-textarea>\r\n                 </b-col>\r\n                </b-row>\r\n              </div>\r\n            </b-form>\r\n          </card>\r\n        </b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DashboardStats from '../../Layout/DashboardStats.vue';\r\nimport TicketService from '../../../services/TicketService'\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n  components: { DashboardStats },\r\n  data() {\r\n    return {\r\n        answer: '',\r\n        ticket: {},\r\n        timeout: null,\r\n        width: window.innerWidth,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({ user: \"auth/getUser\" }),\r\n  },\r\n  beforeCreate() { \r\n    window.addEventListener('resize', () => {\r\n      this.width = window.innerWidth\r\n    })\r\n    TicketService.getTicket(this.$route.params.id).then(response => {\r\n      this.ticket = response.ticket;\r\n    }).catch(error => {\r\n      this.$router.push(\"/tickets\");\r\n    });\r\n    const vm = this\r\n      function timeout() {\r\n        vm.timeout = setTimeout(() => {\r\n          TicketService.getTicket(vm.$route.params.id).then(response => {\r\n            vm.ticket = response.ticket;\r\n            timeout();\r\n          }).catch(error => {\r\n            vm.$router.push(\"/tickets\");\r\n          });\r\n        }, 2000);\r\n      }\r\n      timeout();\r\n  },\r\n  beforeDestroy () {\r\n    clearTimeout(this.timeout);\r\n  },\r\n  methods: {\r\n    answerTicket() {\r\n      let notifier = this.$awn;\r\n      var answer_copy = this.answer;\r\n      if(answer_copy.replace(/ /g, \"\").replace(/\\n/g, \"\") == '') return;\r\n      this.ticket.messages.push({ date: new Date().getTime(), message: this.answer, role: this.user.role, userid: this.user._id, username: this.user.username });\r\n      notifier.async(\r\n        TicketService.updateTicket(this.ticket._id, { message: this.answer }),\r\n        response => notifier.success(response.message), \r\n        error => notifier.alert(error.response.data.response.message),\r\n        'Bitte warten'\r\n      );\r\n      this.answer = '';\r\n    },\r\n    updateStatusTicket(status) {\r\n      let notifier = this.$awn;\r\n      this.ticket.closed = status;\r\n      notifier.async(\r\n        TicketService.updateTicket(this.ticket._id, { closed: status }),\r\n        response => notifier.success(response.message), \r\n        error => notifier.alert(error.response.data.response.message),\r\n        'Bitte warten'\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n"],"sourceRoot":"src/views/Pages/Ticket"}]}